{
	"info": {
		"_postman_id": "dcd41fab-53e8-44ac-97d6-beff55cfd08c",
		"name": "Automated tests for DocEasy",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "csrf cookies",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const response = pm.response.json()",
							"",
							"pm.test(\"CSRF cookie set\", function (){",
							"    pm.expect(response.success).to.equal(\"CSRF cookie set\")",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin@admin.com",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/doctors/csrf_cookie",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"doctors",
						"csrf_cookie"
					],
					"query": [
						{
							"key": "",
							"value": null,
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "doctor all",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const response = pm.response.json()",
							"",
							"pm.test(\"CSRF cookie set\", function (){",
							"    pm.expect(response[0].id).to.equal(1)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "zO5mftrMDGtC8mexNOTx2IwmSGoBm8EPcDk21XmeyWMP6GSfvkZzvvBZ5AeUluBc",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\":\"rahul@gmail.com\",\n    \"password\": \"admin@123\" \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/doctors/all",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"doctors",
						"all"
					]
				}
			},
			"response": []
		},
		{
			"name": "appoinment lists",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const response = pm.response.json()",
							"",
							"pm.test(\"CSRF cookie set\", function (){",
							"    pm.expect(response.detail).to.equal(\"Authentication credentials were not provided.\")",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "6G43eUC9czHxAYQLX88MB0rPl3p2kUI4UhgkW8sGWVIqvLTCJBpkfbbrC8ywlBbe",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/appointments/list/",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"appointments",
						"list",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "appoinment date 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response[0].date).to.equal(\"2022-02-04\")",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "zO5mftrMDGtC8mexNOTx2IwmSGoBm8EPcDk21XmeyWMP6GSfvkZzvvBZ5AeUluBc",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"date\": \"2022-02-04\", \n    \"doctor\": \"2\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/appointments/date",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"appointments",
						"date"
					]
				}
			},
			"response": []
		},
		{
			"name": "appoinment date 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response[0].date).to.equal(\"2022-01-23\")",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "zO5mftrMDGtC8mexNOTx2IwmSGoBm8EPcDk21XmeyWMP6GSfvkZzvvBZ5AeUluBc",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"date\": \"2022-01-23\", \n    \"doctor\": \"2\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/appointments/date",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"appointments",
						"date"
					]
				}
			},
			"response": []
		},
		{
			"name": "eprescription prescription data",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response[0].id).to.equal(1)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"id\":\"1\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/eprescription/prescriptiondata/",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"eprescription",
						"prescriptiondata",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "eprescription medication data",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response[0].id).to.equal(1)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"prescription_id\":\"1\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/eprescription/medicationdata/",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"eprescription",
						"medicationdata",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "eprescription medication data 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response[0].id).to.equal(2)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"prescription_id\":\"2\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/eprescription/medicationdata/",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"eprescription",
						"medicationdata",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "csrf cookies",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response.success).to.equal(\"CSRF cookie set\")",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "",
						"value": "",
						"type": "default"
					}
				],
				"url": {
					"raw": "http://13.59.2.216/api/patient/csrf_cookie",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"patient",
						"csrf_cookie"
					]
				}
			},
			"response": []
		},
		{
			"name": "doctor login (wrong input) 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response.code).to.equal(401)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\":\"Rahul@gmail.com\",\n    \"password\": \"admin@123\" \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/doctors/login",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"doctors",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "doctor login (wrong input) 1 Copy",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\":\"rahul@gmail.com\",\n    \"password\": \"admin@124\" \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/doctors/login",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"doctors",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "doctor login (correct input) 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response.code).to.equal(200)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\":\"admin@admin.com\",\n    \"password\": \"admin\" \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/doctors/login",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"doctors",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "doctor login (correct input) 1 Copy 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response.code).to.equal(200)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\":\"rahul@gmail.com\",\n    \"password\": \"admin@123\" \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/doctors/login",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"doctors",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "patient login (correct input) 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response[0].id).to.equal(2)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"patient_id\":\"2\",\n    \"secret_key\":\"1234\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/patient/patientlogin",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"patient",
						"patientlogin"
					]
				}
			},
			"response": []
		},
		{
			"name": "patient login (correct input) 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response[0].id).to.equal(1)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"patient_id\":\"1\",\n    \"secret_key\":\"1234\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/patient/patientlogin",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"patient",
						"patientlogin"
					]
				}
			},
			"response": []
		},
		{
			"name": "patient login (wrong input) 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response.error).to.equal(\"Invalid Credentials\")",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"patient_id\":\"999\",\n    \"secret_key\":\"1234\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/patient/patientlogin",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"patient",
						"patientlogin"
					]
				}
			},
			"response": []
		},
		{
			"name": "patient login (wrong input) 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response.error).to.equal(\"Invalid Credentials\")",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"patient_id\":\"12\",\n    \"secret_key\":\"4321\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/patient/patientlogin",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"patient",
						"patientlogin"
					]
				}
			},
			"response": []
		},
		{
			"name": "doctor logout",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"the date will display correctly\", function (){",
							"    pm.expect(response.code).to.equal(200)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\":\"rahul@gmail.com\",\n    \"password\": \"admin@123\" \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/doctors/logout",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"doctors",
						"logout"
					]
				}
			},
			"response": []
		},
		{
			"name": "appoinment date",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var xsrfCookie = postman.getResponseCookie(\"csrftoken\"); postman.setEnvironmentVariable('csrftoken', xsrfCookie.value);",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"we need to get an empty array\", function (){",
							"    pm.expect(response[0]).to.equal(undefined)",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRFToken",
						"value": "{{csrftoken}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"date\": \"2022-02-05\", \n    \"doctor\": \"2\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://13.59.2.216/api/appointments/date",
					"protocol": "http",
					"host": [
						"13",
						"59",
						"2",
						"216"
					],
					"path": [
						"api",
						"appointments",
						"date"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// var name = '';",
					"",
					"// fetch('http://13.59.2.216/api/doctors/csrf_cookie')",
					"// .then(data => {",
					"//     let cookieValue = null;",
					"//         if (document.cookie && document.cookie !== '') {",
					"//             let cookies = document.cookie.split(';');",
					"//             for (let i = 0; i < cookies.length; i++) {",
					"//                 let cookie = cookies[i].trim();",
					"//                 if (cookie.substring(0, csrftoken.length + 1) === (csrftoken + '=')) {",
					"//                     cookieValue = decodeURIComponent(cookie.substring(csrftoken.length + 1));",
					"//                     break;",
					"//                 }",
					"//             }",
					"//         }",
					"//     name = cookieValue;",
					"// })",
					"// .catch(err => {",
					"//     console.log(error)",
					"// })",
					"",
					"",
					"// fetch(\"http://13.59.2.216/api/doctors/login\", {",
					"     ",
					"//     // Adding method type",
					"//     method: \"POST\",",
					"     ",
					"//     // Adding body or contents to send",
					"//     body: JSON.stringify({",
					"//         email: \"admin@admin.com\",",
					"//         password: \"admin\"",
					"//     }),",
					"     ",
					"//     // Adding headers to the request",
					"//     headers: {",
					"//         \"Content-type\": \"application/json; charset=UTF-8\",",
					"//         \"X-CSRFToken\": name",
					"//     }",
					"// })",
					" ",
					"// // Converting to JSON",
					"// .then(response => response.json())"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}